<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Choosing seat</title>
  <link rel="stylesheet" type="text/css" href="../static/css/seat.css">
  <link rel="icon" type="image/png" href="../static/images/logo.png">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    var selectedSeat = null; // chosen seat
    $(document).ready(function() {
      // kliker
      $('.seat').click(function() {
        // delete active in previous seat
        if (selectedSeat !== null) {
          $(selectedSeat).removeClass('active');
        }
        // choosing new and add active
        selectedSeat = this;
        $(selectedSeat).addClass('active');
      });

      document.getElementById("buy").addEventListener("click", function() {
        var selectedSeat = document.getElementsByClassName("active")[0];
        if (selectedSeat) {
          var row = selectedSeat.getAttribute("data-row");
          var column = selectedSeat.getAttribute("data-column");
          window.location.href = "/purchase?row=" + row + "&column=" + column;
        } else {
          alert("Please select a seat before buying!");
        }
      });

    });
  </script>
</head>
<body>
    <div id="header"></div>


    <div class="content">
      <div class="text1">
        <p>Book your ticket to another planet now!
          Please select Your seat to purchase! </p>
      </div>

      <div class="seats-container">

        <div class="row">
          <div class="seat" data-row="1" data-column="1"></div>
          <div class="seat" data-row="1" data-column="2"></div>
          <div class="seat" data-row="1" data-column="3"></div>
          <div class="seat" data-row="1" data-column="4"></div>
        </div>
        <div class="row">
          <div class="seat" data-row="2" data-column="1"></div>
          <div class="seat" data-row="2" data-column="2"></div>
          <div class="seat" data-row="2" data-column="3"></div>
          <div class="seat" data-row="2" data-column="4"></div>
        </div>
        <div class="row">
          <div class="seat" data-row="3" data-column="1"></div>
          <div class="seat" data-row="3" data-column="2"></div>
          <div class="seat" data-row="3" data-column="3"></div>
          <div class="seat" data-row="3" data-column="4"></div>
        </div>
        <div class="row">
          <div class="seat" data-row="4" data-column="1"></div>
          <div class="seat" data-row="4" data-column="2"></div>
          <div class="seat" data-row="4" data-column="3"></div>
          <div class="seat" data-row="4" data-column="4"></div>
        </div>
      </div>

      <input class="buy" type="button" id="buy" value="Buy NOW">

    </div>

    <div id="footer"></div>

    <script src="../static/script/headerANDfooter.js"></script>

</body>
</html>